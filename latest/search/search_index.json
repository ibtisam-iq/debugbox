{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"DebugBox","text":"<p>A lightweight, variant-based debugging container suite for Kubernetes and Docker environments.</p> <p>Instead of one oversized debugging image, DebugBox provides three purpose-built variants \u2014 from minimal network checks (15MB) to full SRE forensics (110MB).</p>"},{"location":"#why-debugbox","title":"Why DebugBox?","text":"<p>Modern Kubernetes pods (distroless, minimal Alpine) often ship without curl, dig, tcpdump or bash. Existing solutions like netshoot work but require downloading a 208MB image even for basic network checks.</p> <p>DebugBox provides three focused variants instead of one monolithic image:</p> <ul> <li>lite (15 MB) \u2013 Fast pulls for quick network/DNS checks</li> <li>balanced (48 MB) \u2013 Daily-driver for most troubleshooting (recommended)</li> <li>power (110 MB) \u2013 Deep forensics and packet analysis</li> </ul> <p>4.3\u00d7 smaller than netshoot for 90% of use cases \u2192 faster pulls, faster incident response.</p>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Debug a running pod\nkubectl debug my-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n\n# Run a temporary debugging pod\nkubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n</code></pre> <p>Inside the container: <pre><code>curl -I https://kubernetes.io              # Test connectivity\ndig kubernetes.default.svc.cluster.local   # Check DNS\nip route                                   # Inspect routes\nkubectl get cm my-config -o yaml | yq      # Parse YAML\ntcpdump -i eth0 port 443 -c 10             # Capture packets\n</code></pre></p>"},{"location":"#variants-at-a-glance","title":"Variants at a Glance","text":"Variant Size Use Case Shell lite 15 MB Quick network checks ash (BusyBox) balanced 48 MB General troubleshooting bash power 110 MB Deep forensics bash <p>\u2192 Learn more about variants</p>"},{"location":"#registries","title":"Registries","text":"<p>Images available on: - GHCR (primary): <code>ghcr.io/ibtisam-iq/debugbox</code> - Docker Hub (mirror): <code>docker.io/mibtisam/debugbox</code></p> <p>Both registries contain identical multi-arch images (amd64 + arm64).</p>"},{"location":"#key-features","title":"Key Features","text":"<p>\u2705 Minimal variants \u2013 Choose only what you need \u2705 Fast pulls \u2013 Lite: 15MB, Balanced: 48MB, Power: 110MB \u2705 Multi-arch \u2013 Works on amd64 (x86), arm64 (Apple Silicon, AWS Graviton, Pi) \u2705 Kubernetes-ready \u2013 Built for <code>kubectl debug</code> and ephemeral containers \u2705 Deterministic \u2013 Critical binaries pinned with SHA verification \u2705 Secure \u2013 Scanned with Trivy on every release  </p>"},{"location":"#whats-included","title":"What's Included","text":""},{"location":"#lite-15-mb","title":"Lite (15 MB)","text":"<ul> <li>Network: curl, netcat, ip, ping, dig, nslookup</li> <li>Data: jq, yq</li> <li>Shell: ash (BusyBox)</li> </ul>"},{"location":"#balanced-48-mb-recommended","title":"Balanced (48 MB) \u2014 Recommended","text":"<ul> <li>All lite tools, plus:</li> <li>Shell: bash with completion, vim, less</li> <li>Network: tcpdump, socat, nmap, mtr, iperf3, iftop, ethtool</li> <li>System: htop, strace, lsof, procps, psmisc</li> <li>Kubernetes: kubectx, kubens</li> <li>VCS: git, and more</li> </ul>"},{"location":"#power-110-mb","title":"Power (110 MB)","text":"<ul> <li>All balanced tools, plus:</li> <li>Forensics: tshark, ltrace</li> <li>Routing/firewall: iptables, nftables, conntrack-tools, bird, bridge-utils</li> <li>Scripting: Python 3 with pip3</li> </ul>"},{"location":"#common-workflows","title":"Common Workflows","text":""},{"location":"#test-service-connectivity","title":"Test Service Connectivity","text":"<pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n\n# Inside\ncurl http://my-service.default.svc.cluster.local:8080\ndig my-service.default.svc.cluster.local\n</code></pre>"},{"location":"#debug-running-pod","title":"Debug Running Pod","text":"<pre><code>kubectl debug my-app-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox\n\n# Inside (same network as app)\ncurl localhost:8080\nnetstat -tulpn\n</code></pre>"},{"location":"#capture-network-traffic","title":"Capture Network Traffic","text":"<pre><code>kubectl run debugbox-power --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power \\\n  --restart=Never\n\n# Inside\ntcpdump -i eth0 -w /tmp/capture.pcap port 443\ntshark -i eth0 -f \"port 443\"\n</code></pre> <p>\u2192 See more workflows</p>"},{"location":"#comparison","title":"Comparison","text":"<pre><code>netshoot:         208 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 100%\nDebugBox power:   110 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 53%\nDebugBox balanced: 48 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 23%\nDebugBox lite:     15 MB  \u2501\u2501 7%\nbusybox:           1.5 MB  \u2591 &lt;1%\n</code></pre>"},{"location":"#design-principles","title":"Design Principles","text":"<ol> <li>Variants Over Bloat \u2013 Each variant installs only what it promises</li> <li>Deterministic Builds \u2013 Critical binaries pinned and SHA-verified</li> <li>Explicit Contracts \u2013 Documentation declares exactly what's included</li> <li>Debug-First Philosophy \u2013 Runs as root (debugging tool, not production workload)</li> <li>Engineering Clarity \u2013 Makefile-driven, automated CI/CD, security scanning</li> </ol>"},{"location":"#navigation","title":"Navigation","text":"<ul> <li>Getting Started \u2013 60-second setup</li> <li>Variants \u2013 Detailed variant comparison</li> <li>Kubernetes Usage \u2013 kubectl debug, ephemeral containers, sidecar patterns</li> <li>Docker Usage \u2013 Docker and Docker Compose examples</li> <li>Workflows \u2013 Real-world debugging scenarios</li> <li>Reference \u2013 Complete tooling reference and image details</li> <li>Development \u2013 Local builds, testing, contribution guidelines</li> <li>Security \u2013 Reporting vulnerabilities, security scanning</li> </ul>"},{"location":"#local-development","title":"Local Development","text":"<pre><code># Clone repository\ngit clone https://github.com/ibtisam-iq/debugbox.git\ncd debugbox\n\n# Build all variants\nmake build-all\n\n# Run tests\nmake test-all\n\n# Security scan\nmake scan\n\n# Preview documentation\npip install -r requirements.txt\nmkdocs serve\n</code></pre>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub: https://github.com/ibtisam-iq/debugbox</li> <li>Author: Muhammad Ibtisam</li> <li>License: MIT</li> </ul> <p>Ready to debug? Start with Quick Start or choose a variant.</p>"},{"location":"development/contributing/","title":"Contributing","text":"<p>We welcome contributions to DebugBox!</p>"},{"location":"development/contributing/#before-you-start","title":"Before You Start","text":"<ol> <li>Identify the variant \u2014 Which image does your change affect?</li> <li>Check for duplication \u2014 Does this tool overlap with existing functionality?</li> <li>Consider image size \u2014 Will this bloat the image unnecessarily?</li> <li>Test locally \u2014 Use <code>make build-&lt;variant&gt;</code> and <code>make test-&lt;variant&gt;</code></li> <li>Update documentation \u2014 Document user-visible changes in <code>[docs/manifest.yaml](../manifest.yaml)</code></li> </ol>"},{"location":"development/contributing/#guidelines","title":"Guidelines","text":""},{"location":"development/contributing/#do","title":"Do","text":"<ul> <li>Add tools that fill genuine debugging gaps</li> <li>Group tools logically (network, system, editors)</li> <li>Pin critical binaries with SHA verification</li> <li>Test on both amd64 and arm64 if possible</li> <li>Update <code>[docs/manifest.yaml](../manifest.yaml)</code> with tool additions</li> </ul>"},{"location":"development/contributing/#dont","title":"Don't","text":"<ul> <li>Add overlapping tools (e.g., <code>wget</code> when <code>curl</code> exists)</li> <li>Bloat Lite variant with heavy packages</li> <li>Skip documentation updates</li> <li>Introduce undocumented helpers or magic behavior</li> </ul>"},{"location":"development/contributing/#process","title":"Process","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch: <code>git checkout -b add/my-tool</code></li> <li>Make your changes</li> <li>Test locally: <code>make build-balanced &amp;&amp; make test-balanced</code></li> <li>Update <code>[docs/manifest.yaml](../manifest.yaml)</code></li> <li>Commit with clear messages</li> <li>Push and open a pull request</li> </ol>"},{"location":"development/contributing/#questions","title":"Questions?","text":"<p>Open an issue or discussion on GitHub.</p> <p>For more details, see CONTRIBUTING.md in the repository.</p>"},{"location":"development/local-setup/","title":"Local Development","text":"<p>Set up DebugBox for local development.</p>"},{"location":"development/local-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker or Podman</li> <li>Make</li> <li>Python 3.11+ (for documentation)</li> <li>Git</li> </ul>"},{"location":"development/local-setup/#clone-repository","title":"Clone Repository","text":"<pre><code>git clone https://github.com/ibtisam-iq/debugbox.git\ncd debugbox\n</code></pre>"},{"location":"development/local-setup/#build-images","title":"Build Images","text":""},{"location":"development/local-setup/#single-variant","title":"Single Variant","text":"<pre><code># Build specific variant\nmake build-lite\nmake build-balanced\nmake build-power\n</code></pre>"},{"location":"development/local-setup/#all-variants","title":"All Variants","text":"<pre><code>make build-all\n</code></pre>"},{"location":"development/local-setup/#multi-architecture","title":"Multi-Architecture","text":"<pre><code># Default builds both amd64 and arm64\nmake build-balanced\n\n# Build for specific platform\nPLATFORM=linux/arm64 make build-lite\n</code></pre>"},{"location":"development/local-setup/#test-images","title":"Test Images","text":""},{"location":"development/local-setup/#smoke-tests","title":"Smoke Tests","text":"<pre><code># Test specific variant\nmake test-lite\nmake test-balanced\nmake test-power\n\n# Test all variants\nmake test-all\n</code></pre>"},{"location":"development/local-setup/#security-scanning","title":"Security Scanning","text":""},{"location":"development/local-setup/#scan-with-trivy","title":"Scan with Trivy","text":"<pre><code>make scan\n</code></pre> <p>Scanning checks for HIGH and CRITICAL vulnerabilities. Build fails if found.</p>"},{"location":"development/local-setup/#lint-dockerfiles","title":"Lint Dockerfiles","text":"<pre><code>make lint\n</code></pre>"},{"location":"development/local-setup/#documentation","title":"Documentation","text":""},{"location":"development/local-setup/#build-documentation","title":"Build Documentation","text":"<pre><code>pip install -r requirements.txt\nmkdocs build\n</code></pre>"},{"location":"development/local-setup/#preview-documentation","title":"Preview Documentation","text":"<pre><code>mkdocs serve\n</code></pre> <p>Then open http://localhost:8000</p>"},{"location":"development/local-setup/#makefile-targets","title":"Makefile Targets","text":"<p>Common targets in the Makefile:</p> Target Description <code>build-lite</code> Build lite variant <code>build-balanced</code> Build balanced variant <code>build-power</code> Build power variant <code>build-all</code> Build all variants <code>test-lite</code> Test lite variant <code>test-balanced</code> Test balanced variant <code>test-power</code> Test power variant <code>test-all</code> Test all variants <code>scan</code> Security scan with Trivy <code>lint</code> Lint Dockerfiles"},{"location":"development/local-setup/#code-structure","title":"Code Structure","text":"<pre><code>.\n\u251c\u2500\u2500 dockerfiles/          # All Dockerfiles\n\u251c\u2500\u2500 docs/                 # Documentation\n\u251c\u2500\u2500 scripts/              # Installation scripts\n\u251c\u2500\u2500 tests/                # Test scripts\n\u251c\u2500\u2500 Makefile              # Build automation\n\u2514\u2500\u2500 mkdocs.yml            # Documentation config\n</code></pre>"},{"location":"development/local-setup/#next-steps","title":"Next Steps","text":"<ul> <li>Read the Project Structure</li> <li>Review Contributing Guidelines</li> <li>Check the Release Process</li> </ul>"},{"location":"development/release/","title":"Release Process","text":"<p>How DebugBox releases are managed and published.</p>"},{"location":"development/release/#versioning","title":"Versioning","text":"<p>DebugBox follows semantic versioning:</p> <ul> <li>MAJOR: Incompatible changes (tool removal, breaking API)</li> <li>MINOR: New functionality (new tools, variants)</li> <li>PATCH: Bug fixes and updates</li> </ul> <p>Format: <code>vMAJOR.MINOR.PATCH</code></p> <p>Example: <code>v1.0.0-53-g53d138d</code></p>"},{"location":"development/release/#release-checklist","title":"Release Checklist","text":"<p>Before releasing:</p> <ul> <li> All tests pass: <code>make test-all</code></li> <li> Security scan passes: <code>make scan</code></li> <li> Documentation is up to date</li> <li> CHANGELOG.md is updated</li> <li> Version bump is correct</li> <li> Commit messages are clear</li> </ul>"},{"location":"development/release/#release-steps","title":"Release Steps","text":""},{"location":"development/release/#1-update-documentation","title":"1. Update Documentation","text":"<pre><code># Update docs/manifest.yaml with any new tools\nvim docs/manifest.yaml\n\n# Update CHANGELOG.md with release notes\nvim CHANGELOG.md\n</code></pre>"},{"location":"development/release/#2-create-release-tag","title":"2. Create Release Tag","text":"<pre><code>git tag vX.Y.Z\ngit push origin vX.Y.Z\n</code></pre> <p>Once the tag is pushed:</p> <ul> <li><code>git.tag</code> becomes <code>vX.Y.Z</code></li> <li>Documentation freezes at this version</li> <li>Images are published with this tag</li> </ul>"},{"location":"development/release/#3-automated-deployment","title":"3. Automated Deployment","text":"<p>GitHub Actions automatically:</p> <ol> <li>Detects the tag</li> <li>Builds multi-arch images (amd64 + arm64)</li> <li>Runs Trivy security scan</li> <li>Pushes to GHCR and Docker Hub</li> <li>Deploys documentation</li> </ol>"},{"location":"development/release/#image-publishing","title":"Image Publishing","text":"<p>After release, images are available at:</p> <ul> <li>GHCR:</li> </ul> <pre><code>ghcr.io/ibtisam-iq/debugbox:v1.0.0-53-g53d138d\n</code></pre> <ul> <li>Docker Hub:</li> </ul> <pre><code>docker.io/mibtisam/debugbox:v1.0.0-53-g53d138d\n</code></pre> <ul> <li>Latest tag:   Both registries are updated with <code>latest</code></li> </ul>"},{"location":"development/release/#automated-workflow","title":"Automated Workflow","text":"<p>The release workflow is defined in <code>.github/workflows/deploy.yml</code>:</p> <ol> <li>Build phase: Builds multi-arch images</li> <li>Scan phase: Trivy security scan</li> <li>Publish phase: Push to registries</li> <li>Deploy phase: Update documentation</li> </ol>"},{"location":"development/release/#rollback","title":"Rollback","text":"<p>If a release has critical issues:</p> <ol> <li>Revert the tag:</li> </ol> <pre><code>git tag -d vX.Y.Z\ngit push origin :refs/tags/vX.Y.Z\n</code></pre> <ol> <li>Fix the issue</li> <li>Release again with patch version.</li> </ol> <p>Example:</p> <pre><code>git tag v1.0.1\ngit push origin v1.0.1\n</code></pre> <p>For detailed instructions, see RELEASE.md in the repository.</p>"},{"location":"development/structure/","title":"Project Structure","text":"<p>Overview of the DebugBox repository structure.</p>"},{"location":"development/structure/#root-directory","title":"Root Directory","text":"<pre><code>.\n\u251c\u2500\u2500 dockerfiles/              # Dockerfile definitions\n\u251c\u2500\u2500 docs/                     # Documentation source\n\u251c\u2500\u2500 scripts/                  # Helper scripts\n\u251c\u2500\u2500 tests/                    # Test suites\n\u251c\u2500\u2500 .github/workflows/        # GitHub Actions CI/CD\n\u251c\u2500\u2500 Makefile                  # Build automation\n\u251c\u2500\u2500 mkdocs.yml                # Documentation config\n\u251c\u2500\u2500 requirements.txt          # Python dependencies\n\u251c\u2500\u2500 requirements-dev.txt      # Development dependencies\n\u251c\u2500\u2500 README.md                 # GitHub README\n\u251c\u2500\u2500 CHANGELOG.md              # Version history\n\u251c\u2500\u2500 CONTRIBUTING.md           # Contribution guidelines\n\u251c\u2500\u2500 RELEASE.md                # Release process\n\u251c\u2500\u2500 SECURITY.md               # Security policy\n\u2514\u2500\u2500 LICENSE                   # MIT License\n</code></pre>"},{"location":"development/structure/#dockerfiles","title":"dockerfiles/","text":"<p>Image build definitions for all variants.</p> <pre><code>dockerfiles/\n\u251c\u2500\u2500 Dockerfile.base           # Shared Alpine foundation\n\u251c\u2500\u2500 Dockerfile.lite           # Lite variant (15MB)\n\u251c\u2500\u2500 Dockerfile.balanced       # Balanced variant (48MB)\n\u251c\u2500\u2500 Dockerfile.power          # Power variant (110MB)\n\u2514\u2500\u2500 common/\n    \u251c\u2500\u2500 balanced.packages     # Package installation script\n    \u2514\u2500\u2500 balanced.verify       # Verification/smoke tests\n</code></pre>"},{"location":"development/structure/#docs","title":"docs/","text":"<p>Documentation source for debugbox.ibtisam-iq.com</p> <pre><code>docs/\n\u251c\u2500\u2500 index.md                  # Home page\n\u251c\u2500\u2500 getting-started/\n\u2502   \u251c\u2500\u2500 quick-start.md\n\u2502   \u251c\u2500\u2500 installation.md\n\u2502   \u2514\u2500\u2500 motivation.md\n\u251c\u2500\u2500 variants/\n\u2502   \u251c\u2500\u2500 overview.md\n\u2502   \u251c\u2500\u2500 lite.md\n\u2502   \u251c\u2500\u2500 balanced.md\n\u2502   \u2514\u2500\u2500 power.md\n\u251c\u2500\u2500 usage/\n\u2502   \u251c\u2500\u2500 kubernetes.md\n\u2502   \u251c\u2500\u2500 docker.md\n\u2502   \u2514\u2500\u2500 workflows.md\n\u251c\u2500\u2500 reference/\n\u2502   \u251c\u2500\u2500 manifest.md\n\u2502   \u251c\u2500\u2500 tags.md\n\u2502   \u251c\u2500\u2500 multi-arch.md\n\u2502   \u2514\u2500\u2500 sizes.md\n\u251c\u2500\u2500 development/\n\u2502   \u251c\u2500\u2500 local-setup.md\n\u2502   \u251c\u2500\u2500 structure.md\n\u2502   \u251c\u2500\u2500 contributing.md\n\u2502   \u2514\u2500\u2500 release.md\n\u251c\u2500\u2500 security/\n\u2502   \u251c\u2500\u2500 policy.md\n\u2502   \u2514\u2500\u2500 scanning.md\n\u2514\u2500\u2500 guides/\n    \u251c\u2500\u2500 troubleshooting.md\n    \u2514\u2500\u2500 examples.md\n</code></pre>"},{"location":"development/structure/#scripts","title":"scripts/","text":"<p>Helper scripts for development and deployment.</p> <pre><code>scripts/\n\u251c\u2500\u2500 install-yq-binary         # Pinned yq installer (SHA-verified)\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"development/structure/#tests","title":"tests/","text":"<p>Automated test suites.</p> <pre><code>tests/\n\u251c\u2500\u2500 smoke.sh                  # Local smoke tests\n\u2514\u2500\u2500 ci-smoke.sh               # CI-only smoke tests (no network)\n</code></pre>"},{"location":"development/structure/#githubworkflows","title":".github/workflows/","text":"<p>GitHub Actions CI/CD pipelines.</p> <pre><code>.github/workflows/\n\u251c\u2500\u2500 ci.yml                    # Build + test on every push\n\u2514\u2500\u2500 deploy.yml                # Publish on release tags\n\u2514\u2500\u2500 docs.yml                  # Publish the site\n</code></pre>"},{"location":"development/structure/#key-files","title":"Key Files","text":""},{"location":"development/structure/#makefile","title":"Makefile","text":"<p>Build automation for local development: - <code>make build-lite</code> \u2014 Build lite variant - <code>make build-all</code> \u2014 Build all variants - <code>make test-all</code> \u2014 Run all tests - <code>make scan</code> \u2014 Security scanning</p>"},{"location":"development/structure/#mkdocsyml","title":"mkdocs.yml","text":"<p>Documentation configuration. Defines: - Site metadata - Navigation structure - Theme and plugins - Build settings</p>"},{"location":"development/structure/#requirementstxt","title":"requirements.txt","text":"<p>Python dependencies for building documentation: - mike - mkdocs - mkdocs-material - pymdown-extensions</p>"},{"location":"development/structure/#githubworkflowsdeployyml","title":".github/workflows/deploy.yml","text":"<p>GitHub Actions workflow for CI/CD: - Builds images on every push to main - Runs security scans - Publishes releases on Git tags - Deploys documentation</p>"},{"location":"development/structure/#documentation-flow","title":"Documentation Flow","text":"<pre><code>docs/\n  \u251c\u2500 mkdocs.yml         (Config)\n  \u251c\u2500 *.md               (Markdown sources)\n  \u2514\u2500 (build process)\n      \u2514\u2500 site/          (Generated HTML)\n          \u2514\u2500 Deploy to GitHub Pages\n              \u2514\u2500 debugbox.ibtisam-iq.com\n</code></pre>"},{"location":"development/structure/#adding-new-documentation","title":"Adding New Documentation","text":"<ol> <li>Create <code>.md</code> file in appropriate <code>docs/</code> subdirectory</li> <li>Add entry to <code>nav:</code> section in <code>mkdocs.yml</code></li> <li>Build locally: <code>mkdocs serve</code></li> <li>Commit and push to GitHub</li> <li>CI/CD automatically deploys</li> </ol> <p>Example:</p> <pre><code># mkdocs.yml\nnav:\n  - Home: \"index.md\"\n  - Usage:\n    - Kubernetes: \"usage/kubernetes.md\"\n    - Docker: \"usage/docker.md\"\n    - New Topic: \"usage/new-topic.md\"  # Add here\n</code></pre>"},{"location":"development/structure/#build-and-deployment","title":"Build and Deployment","text":"<pre><code>Local development\n  \u2193 (git push)\nGitHub (main branch)\n  \u2193\nCI: build + test + scan\n  \u2193 (git tag v1.0.0)\nRelease\n  \u2193\nDeploy: build + push + documentation\n  \u2193\nGHCR + Docker Hub + GitHub Pages\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Get started with DebugBox in three commands.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Kubernetes 1.16+ (for <code>kubectl debug</code> support)</li> <li>Docker or Podman (for local use)</li> <li>kubectl (for Kubernetes examples)</li> </ul>"},{"location":"getting-started/installation/#kubernetes-quick-start","title":"Kubernetes Quick Start","text":""},{"location":"getting-started/installation/#option-1-debug-existing-pod-recommended","title":"Option 1: Debug Existing Pod (Recommended)","text":"<p>Attach an ephemeral container to an existing pod:</p> <pre><code>kubectl debug my-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n</code></pre> <p>This shares the target pod's network namespace. No modification to the pod.</p>"},{"location":"getting-started/installation/#option-2-temporary-debugging-pod","title":"Option 2: Temporary Debugging Pod","text":"<p>Spin up a dedicated debugging pod:</p> <pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n</code></pre> <p>The <code>--rm</code> flag automatically deletes the pod when you exit.</p>"},{"location":"getting-started/installation/#option-3-docker","title":"Option 3: Docker","text":"<pre><code>docker run -it --rm ghcr.io/ibtisam-iq/debugbox\n</code></pre>"},{"location":"getting-started/installation/#choosing-a-variant","title":"Choosing a Variant","text":""},{"location":"getting-started/installation/#lite-15-mb-fast-network-checks","title":"Lite (15 MB) \u2013 Fast Network Checks","text":"<pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite \\\n  --restart=Never\n</code></pre> <p>Use when: - Fast pulls matter (slow networks, production incidents) - You only need: curl, dig, ping, netcat, jq, yq - Running in resource-constrained clusters</p>"},{"location":"getting-started/installation/#balanced-48-mb-recommended-default","title":"Balanced (48 MB) \u2013 Recommended Default","text":"<pre><code>kubectl debug my-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox\n</code></pre> <p>Use when: - General Kubernetes troubleshooting - Daily debugging workflows - You need: bash, tcpdump, strace, kubectx, vim - This is the default choice when unsure</p>"},{"location":"getting-started/installation/#power-110-mb-deep-forensics","title":"Power (110 MB) \u2013 Deep Forensics","text":"<pre><code>kubectl run debugbox-power --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power \\\n  --restart=Never\n</code></pre> <p>Use when: - Deep network packet analysis (tshark) - Advanced routing/firewall debugging (iptables, nftables) - System-level tracing (ltrace) - Running custom Python scripts</p>"},{"location":"getting-started/installation/#image-registries","title":"Image Registries","text":""},{"location":"getting-started/installation/#github-container-registry-ghcr-primary","title":"GitHub Container Registry (GHCR) \u2013 Primary","text":"<p>Recommended for faster pulls and better GitHub integration:</p> <pre><code>ghcr.io/ibtisam-iq/debugbox-lite:latest\nghcr.io/ibtisam-iq/debugbox:latest\nghcr.io/ibtisam-iq/debugbox-power:latest\n</code></pre>"},{"location":"getting-started/installation/#docker-hub-mirror","title":"Docker Hub \u2013 Mirror","text":"<p>Alternative registry with identical content:</p> <pre><code>docker.io/mibtisam/debugbox-lite:latest\ndocker.io/mibtisam/debugbox:latest\ndocker.io/mibtisam/debugbox-power:latest\n</code></pre>"},{"location":"getting-started/installation/#version-tags","title":"Version Tags","text":""},{"location":"getting-started/installation/#latest-recommended-for-interactive-use","title":"Latest (Recommended for Interactive Use)","text":"<pre><code>kubectl ... --image=ghcr.io/ibtisam-iq/debugbox:latest\n</code></pre>"},{"location":"getting-started/installation/#pinned-version-recommended-for-cicd","title":"Pinned Version (Recommended for CI/CD)","text":"<pre><code>kubectl ... --image=ghcr.io/ibtisam-iq/debugbox:v1.0.0-53-g53d138d\n</code></pre> <p>Use pinned versions for reproducibility in CI/CD pipelines.</p>"},{"location":"getting-started/installation/#default-variant","title":"Default Variant","text":"<p>The unqualified image name always points to balanced:</p> <pre><code>ghcr.io/ibtisam-iq/debugbox\n  \u2193\nghcr.io/ibtisam-iq/debugbox-balanced\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Test that the image pulls correctly:</p> <pre><code>kubectl run debugbox-test --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never \\\n  -- bash -c \"curl --version &amp;&amp; dig --version &amp;&amp; echo 'OK'\"\n</code></pre> <p>Expected output: <pre><code>curl 7.x.x\nDiG 9.x.x\nOK\n</code></pre></p>"},{"location":"getting-started/installation/#network-requirements","title":"Network Requirements","text":"<p>To pull DebugBox images, your cluster must be able to reach:</p> <ul> <li>GHCR: <code>ghcr.io</code> (primary)</li> <li>Docker Hub: <code>docker.io</code> (fallback)</li> </ul> <p>If your cluster has restricted internet access, consider: 1. Pre-pulling images on nodes 2. Using a private registry mirror 3. Using the Docker Hub variant if GHCR is blocked</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start \u2013 60-second examples</li> <li>Variants \u2013 Detailed variant comparison</li> <li>Usage \u2013 Detailed usage guides</li> <li>Troubleshooting \u2013 Common issues and solutions</li> </ul>"},{"location":"getting-started/installation/#whats-included","title":"What's Included","text":"<p>Each variant includes: - Network debugging: curl, dig, netcat, ip, ping, traceroute - Data tools: jq, yq (JSON/YAML parsing) - Kubernetes: kubectl (CLI), kubectx (context switching)</p> <p>Balanced adds: - Full bash shell with completion - Text editors (vim, less) - System tools (strace, htop, lsof) - Advanced networking (tcpdump, nmap, mtr)</p> <p>Power adds: - Packet analysis (tshark from Wireshark) - Deep tracing (ltrace) - Routing/firewall (iptables, nftables, bird) - Python scripting (pip3)</p> <p>\u2192 Full tooling reference</p>"},{"location":"getting-started/motivation/","title":"Why DebugBox?","text":"<p>DebugBox exists because debugging Kubernetes workloads shouldn't be complicated.</p>"},{"location":"getting-started/motivation/#the-problem","title":"The Problem","text":"<p>During CKA/CKAD prep and production troubleshooting, I repeatedly hit a frustrating pattern:</p> <pre><code>$ kubectl exec -it my-pod -- curl\nexec: \"curl\": executable file not found\n</code></pre> <p>Modern production pods (distroless, Alpine) ship without debugging tools. Existing solutions like netshoot work but require downloading a 208MB image even for basic network checks.</p>"},{"location":"getting-started/motivation/#the-solution","title":"The Solution","text":"<p>Three focused variants instead of one monolithic image.</p> <ul> <li>lite (15MB): Fast pull for quick network/DNS checks</li> <li>balanced (48MB): Daily-driver for most troubleshooting</li> <li>power (110MB): Deep forensics and packet analysis</li> </ul>"},{"location":"getting-started/motivation/#why-variants-matter","title":"Why Variants Matter","text":"<pre><code>netshoot:         208 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 100%\nDebugBox power:   110 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 53%\nDebugBox balanced: 48 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 23%\nDebugBox lite:     15 MB  \u2501\u2501 7%\n</code></pre> <p>4.3x smaller for 90% of use cases means faster pod startup in production incidents.</p>"},{"location":"getting-started/motivation/#key-principles","title":"Key Principles","text":""},{"location":"getting-started/motivation/#1-variants-over-bloat","title":"1. Variants Over Bloat","text":"<p>Each variant installs only what it promises. Balanced doesn't carry forensics tools. Lite stays minimal.</p>"},{"location":"getting-started/motivation/#2-deterministic-builds","title":"2. Deterministic Builds","text":"<p>Critical binaries are pinned and SHA-verified (Power variant). No surprise version drift.</p>"},{"location":"getting-started/motivation/#3-explicit-contracts","title":"3. Explicit Contracts","text":"<p><code>docs/manifest.yaml</code> documents exactly what tools are included. No hidden packages.</p>"},{"location":"getting-started/motivation/#4-debug-first-philosophy","title":"4. Debug-First Philosophy","text":"<p>Runs as root by design. This is a debugging tool, not a production workload.</p>"},{"location":"getting-started/motivation/#5-engineering-clarity","title":"5. Engineering Clarity","text":"<ul> <li>Makefile-driven local development</li> <li>CI/CD automation for builds, tests, and releases</li> <li>Trivy security scans on every release</li> <li>Zero magic \u2014 every tool is documented and intentional</li> </ul>"},{"location":"getting-started/motivation/#real-world-scenarios","title":"Real-World Scenarios","text":""},{"location":"getting-started/motivation/#quick-network-check-lite","title":"Quick Network Check (lite)","text":"<pre><code>$ kubectl run debugbox --rm -it --image=ghcr.io/ibtisam-iq/debugbox-lite\n# Pull: 15 MB (fast!)\n# Time to troubleshoot: &lt;5 seconds\n</code></pre>"},{"location":"getting-started/motivation/#daily-debugging-balanced","title":"Daily Debugging (balanced)","text":"<pre><code>$ kubectl debug my-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n# Pull: 48 MB (reasonable)\n# Tools: curl, dig, tcpdump, strace, kubectx...\n# Time to troubleshoot: &lt;30 seconds\n</code></pre>"},{"location":"getting-started/motivation/#deep-forensics-power","title":"Deep Forensics (power)","text":"<pre><code>$ kubectl run debugbox-power --rm -it --image=ghcr.io/ibtisam-iq/debugbox-power\n# Pull: 110 MB (for serious analysis)\n# Tools: tshark, ltrace, iptables, nftables, bird...\n# Time to troubleshoot: as long as needed\n</code></pre>"},{"location":"getting-started/motivation/#comparison-to-alternatives","title":"Comparison to Alternatives","text":"Feature DebugBox netshoot busybox Multiple variants \u2713 \u2717 \u2717 Smallest variant 15 MB 208 MB 1.5 MB Kubernetes-focused \u2713 \u2713 \u2717 Multi-arch \u2713 \u2713 \u2713 Pinned binaries \u2713 (Power) \u2717 \u2717 Version guarantees \u2713 \u2717 \u2717 Security scans \u2713 \u2717 \u2717 <p>Choose DebugBox if: You want a lean, focused debugging tool with multiple size options.</p> <p>Choose netshoot if: You need every tool in one image and don't care about size.</p> <p>Choose busybox if: You literally only need <code>sh</code> and <code>ping</code>.</p>"},{"location":"getting-started/motivation/#what-debugbox-is-not","title":"What DebugBox is NOT","text":"<ul> <li>\u274c Not a sidecar container: Use <code>kubectl debug</code> ephemeral containers</li> <li>\u274c Not production-workload ready: Runs as root; for debugging only</li> <li>\u274c Not a monolithic toolbox: Each variant is focused; use the right one</li> <li>\u274c Not a security scanner: This is for troubleshooting, not vulnerability assessment</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get started with DebugBox in seconds.</p>"},{"location":"getting-started/quick-start/#installation","title":"Installation","text":""},{"location":"getting-started/quick-start/#github-container-registry-recommended","title":"GitHub Container Registry (Recommended)","text":"<pre><code># Default (balanced variant)\ndocker pull ghcr.io/ibtisam-iq/debugbox:latest\n\n# Specific variants\ndocker pull ghcr.io/ibtisam-iq/debugbox-lite:latest\ndocker pull ghcr.io/ibtisam-iq/debugbox-power:latest\n</code></pre>"},{"location":"getting-started/quick-start/#docker-hub","title":"Docker Hub","text":"<pre><code>docker pull mibtisam/debugbox:latest\ndocker pull mibtisam/debugbox-lite:latest\ndocker pull mibtisam/debugbox-power:latest\n</code></pre>"},{"location":"getting-started/quick-start/#kubernetes-usage","title":"Kubernetes Usage","text":""},{"location":"getting-started/quick-start/#debug-running-pod","title":"Debug Running Pod","text":"<pre><code>kubectl debug my-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n</code></pre>"},{"location":"getting-started/quick-start/#temporary-debugging-pod","title":"Temporary Debugging Pod","text":"<pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n</code></pre>"},{"location":"getting-started/quick-start/#host-network-debugging","title":"Host Network Debugging","text":"<pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --overrides='{\"spec\":{\"hostNetwork\":true}}' \\\n  --restart=Never\n</code></pre>"},{"location":"getting-started/quick-start/#docker-usage","title":"Docker Usage","text":""},{"location":"getting-started/quick-start/#interactive-shell","title":"Interactive Shell","text":"<pre><code>docker run -it --rm ghcr.io/ibtisam-iq/debugbox\n</code></pre>"},{"location":"getting-started/quick-start/#debug-another-containers-network","title":"Debug Another Container's Network","text":"<pre><code>docker run -it --rm \\\n  --net container:my-app-container \\\n  ghcr.io/ibtisam-iq/debugbox\n</code></pre>"},{"location":"getting-started/quick-start/#host-network","title":"Host Network","text":"<pre><code>docker run -it --rm \\\n  --net host \\\n  ghcr.io/ibtisam-iq/debugbox\n</code></pre>"},{"location":"getting-started/quick-start/#which-variant","title":"Which Variant?","text":"<p>Choose based on your needs:</p> Need Variant Command Quick DNS/network check lite <code>--image=ghcr.io/ibtisam-iq/debugbox-lite</code> General troubleshooting balanced <code>--image=ghcr.io/ibtisam-iq/debugbox</code> Packet capture/forensics power <code>--image=ghcr.io/ibtisam-iq/debugbox-power</code> <p>When in doubt, use balanced (default).</p>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Explore common workflows</li> <li>Read about all variants</li> <li>Check the tooling manifest</li> </ul>"},{"location":"guides/examples/","title":"Examples &amp; Recipes","text":"<p>Real-world debugging scenarios and solutions.</p>"},{"location":"guides/examples/#quick-network-test","title":"Quick Network Test","text":"<pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite --restart=Never\n\n# Inside\ncurl -I https://kubernetes.io\ndig kubernetes.default\n</code></pre>"},{"location":"guides/examples/#service-discovery-check","title":"Service Discovery Check","text":"<pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox --restart=Never\n\n# Inside\nkubectl get svc\ncurl http://my-service:8080\n</code></pre>"},{"location":"guides/examples/#pod-network-debugging","title":"Pod Network Debugging","text":"<pre><code>kubectl debug my-app-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox\n\n# Inside (same network as app pod)\ncurl localhost:8080\nnetstat -tulpn\n</code></pre>"},{"location":"guides/examples/#packet-capture","title":"Packet Capture","text":"<pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power --restart=Never\n\n# Inside\ntcpdump -i eth0 -w /tmp/capture.pcap\n</code></pre>"},{"location":"guides/examples/#node-network-inspection","title":"Node Network Inspection","text":"<pre><code>kubectl run debugbox-host --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --overrides='{\"spec\":{\"hostNetwork\":true}}' \\\n  --restart=Never\n\n# Inside (host network)\nip route\niptables -L\n</code></pre>"},{"location":"guides/examples/#process-tracing","title":"Process Tracing","text":"<pre><code>kubectl debug my-app-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox\n\n# Inside\nps aux | grep myapp\nstrace -p &lt;pid&gt; -e trace=network\n</code></pre>"},{"location":"guides/examples/#dns-troubleshooting","title":"DNS Troubleshooting","text":"<pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite --restart=Never\n\n# Inside\ndig my-service.default.svc.cluster.local\nnslookup my-service\n</code></pre>"},{"location":"guides/examples/#persistent-sidecar","title":"Persistent Sidecar","text":"<p>Save this as <code>debugbox-sidecar.yaml</code>:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-debugbox\nspec:\n  containers:\n  - name: app\n    image: nginx:alpine\n  - name: debugbox\n    image: ghcr.io/ibtisam-iq/debugbox\n    command: [\"sleep\", \"infinity\"]\n</code></pre> <p>Then:</p> <pre><code>kubectl apply -f debugbox-sidecar.yaml\nkubectl exec -it app-with-debugbox -c debugbox -- bash\n</code></pre>"},{"location":"guides/examples/#more-examples","title":"More Examples","text":"<p>See Common Workflows for detailed scenarios.</p>"},{"location":"guides/troubleshooting/","title":"Troubleshooting Guide","text":"<p>Common issues and solutions when using DebugBox.</p>"},{"location":"guides/troubleshooting/#pod-not-pulling-image","title":"Pod Not Pulling Image","text":"<p>Problem: Pod stuck in ImagePullBackOff</p> <p>Solution:</p> <pre><code># Check image availability\ndocker pull ghcr.io/ibtisam-iq/debugbox:latest\n\n# Verify image name and tag\nkubectl get pod -o jsonpath='{.items[0].spec.containers[0].image}'\n\n# If network-restricted, use Docker Hub mirror\nkubectl ... --image=docker.io/mibtisam/debugbox:latest\n</code></pre>"},{"location":"guides/troubleshooting/#no-such-file-or-directory","title":"No Such File or Directory","text":"<p>Problem: <code>bash: command not found</code></p> <p>Solution:</p> <p>You're using the lite variant (BusyBox shell). Upgrade to balanced:</p> <pre><code># Instead of lite\nkubectl ... --image=ghcr.io/ibtisam-iq/debugbox-lite\n\n# Use balanced\nkubectl ... --image=ghcr.io/ibtisam-iq/debugbox\n</code></pre>"},{"location":"guides/troubleshooting/#ephemeral-container-not-attaching","title":"Ephemeral Container Not Attaching","text":"<p>Problem: <code>kubectl debug</code> command not working</p> <p>Check prerequisites:</p> <pre><code># Verify Kubernetes version (1.16+)\nkubectl version --short\n\n# Check if api server supports debugging\nkubectl api-resources | grep debugged\n</code></pre> <p>Alternative:</p> <p>Use temporary pod instead:</p> <pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n</code></pre>"},{"location":"guides/troubleshooting/#tcpdump-not-working","title":"tcpdump Not Working","text":"<p>Problem: <code>tcpdump: permission denied</code></p> <p>Solution:</p> <p>You need the lite or balanced variant. Use power:</p> <pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power\n</code></pre> <p>Also check if container has NET_ADMIN capability:</p> <pre><code># Inside container\ncat /proc/self/status | grep Cap\n</code></pre>"},{"location":"guides/troubleshooting/#dns-not-resolving","title":"DNS Not Resolving","text":"<p>Problem: <code>dig</code> returns <code>SERVFAIL</code></p> <p>Check setup:</p> <pre><code># Are you in pod's network namespace?\ncat /etc/resolv.conf\n\n# Test with different domain\ndig kubernetes.default.svc.cluster.local\ndig google.com\n\n# Check if coredns is running\nkubectl get pod -n kube-system -l k8s-app=kube-dns\n</code></pre>"},{"location":"guides/troubleshooting/#slow-image-pull","title":"Slow Image Pull","text":"<p>Problem: Image takes too long to download</p> <p>Solution:</p> <p>Use lite variant (15 MB vs 48 MB):</p> <pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite\n</code></pre> <p>Or pre-pull on nodes:</p> <pre><code>docker pull ghcr.io/ibtisam-iq/debugbox:latest\n</code></pre>"},{"location":"guides/troubleshooting/#out-of-disk-space","title":"Out of Disk Space","text":"<p>Problem: Container filesystem full</p> <p>Solution:</p> <ul> <li>Use lite variant (smaller) or</li> <li>Debug on different node with more space:</li> </ul> <pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --overrides='{\"spec\":{\"nodeName\":\"node-with-space\"}}'\n</code></pre>"},{"location":"guides/troubleshooting/#debugging-multi-container-pods","title":"Debugging Multi-Container Pods","text":"<p>Problem: Not sure which container to debug</p> <p>Solution:</p> <pre><code># List containers\nkubectl get pod my-pod -o jsonpath='{.spec.containers[*].name}'\n\n# Debug specific container\nkubectl debug my-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --target=my-container\n</code></pre>"},{"location":"guides/troubleshooting/#still-stuck","title":"Still Stuck?","text":"<ul> <li>Check Common Workflows</li> <li>Review Kubernetes Usage</li> <li>Open GitHub issue with details</li> </ul>"},{"location":"reference/manifest/","title":"Tooling Manifest","text":"<p>The authoritative source of tools included in each DebugBox variant.</p> <p>This file documents the user-visible contract for each variant. It defines exactly what tools, helpers, and environment guarantees are provided.</p> <p>For the complete manifest including all details, see the <code>docs/manifest.yaml</code> file in the repository.</p>"},{"location":"reference/manifest/#base-all-variants","title":"Base (All Variants)","text":"<p>All variants inherit these tools and behaviors:</p>"},{"location":"reference/manifest/#system","title":"System","text":"<ul> <li>ca-certificates</li> <li>locale: C.UTF-8</li> </ul>"},{"location":"reference/manifest/#shell","title":"Shell","text":"<ul> <li>ash (BusyBox)</li> <li>Prompt: <code>[debugbox \\w]$</code></li> <li>Editor: vi</li> </ul>"},{"location":"reference/manifest/#helpers","title":"Helpers","text":"<ul> <li><code>ll()</code> \u2014 Alias for <code>ls -alF</code></li> </ul>"},{"location":"reference/manifest/#lite-variant","title":"Lite Variant","text":""},{"location":"reference/manifest/#networking","title":"Networking","text":"<ul> <li>curl</li> <li>netcat-openbsd</li> <li>iproute2</li> <li>iputils (ping, traceroute)</li> <li>bind-tools (dig, nslookup)</li> </ul>"},{"location":"reference/manifest/#data-tools","title":"Data Tools","text":"<ul> <li>jq \u2014 JSON parsing</li> <li>yq \u2014 YAML parsing (Alpine package, v3.x)</li> </ul>"},{"location":"reference/manifest/#shell_1","title":"Shell","text":"<ul> <li>ash (BusyBox)</li> <li>Helpers: <code>json()</code>, <code>yaml()</code></li> </ul>"},{"location":"reference/manifest/#balanced-variant","title":"Balanced Variant","text":"<p>Includes all lite tools, plus:</p>"},{"location":"reference/manifest/#shell-ux","title":"Shell &amp; UX","text":"<ul> <li>bash with completion</li> <li>less \u2014 Pager</li> <li>Editor: vim</li> </ul>"},{"location":"reference/manifest/#network-tools","title":"Network Tools","text":"<ul> <li>tcpdump \u2014 Packet capture</li> <li>socat \u2014 Socket relay</li> <li>nmap \u2014 Network scanning</li> <li>mtr \u2014 Traceroute with stats</li> <li>iperf3 \u2014 Network performance testing</li> <li>ethtool \u2014 Network interface configuration</li> <li>iftop \u2014 Bandwidth monitoring</li> </ul>"},{"location":"reference/manifest/#system-tools","title":"System Tools","text":"<ul> <li>htop \u2014 Process monitoring</li> <li>strace \u2014 System call tracing</li> <li>lsof \u2014 Open files inspector</li> <li>procps \u2014 Process utilities</li> <li>psmisc \u2014 Process signals/named pipes</li> </ul>"},{"location":"reference/manifest/#kubernetes","title":"Kubernetes","text":"<ul> <li>kubectl \u2014 Already in base</li> <li>kubectx \u2014 Switch contexts</li> <li>kubens \u2014 Switch namespaces</li> </ul>"},{"location":"reference/manifest/#other","title":"Other","text":"<ul> <li>git \u2014 Version control</li> <li>file \u2014 File type detection</li> <li>tar, gzip \u2014 Archive tools</li> </ul>"},{"location":"reference/manifest/#shell_2","title":"Shell","text":"<ul> <li>bash with completion</li> <li>Helpers: <code>json()</code>, <code>yaml()</code></li> </ul>"},{"location":"reference/manifest/#power-variant","title":"Power Variant","text":"<p>Includes all balanced tools, plus:</p>"},{"location":"reference/manifest/#editors","title":"Editors","text":"<ul> <li>nano \u2014 Text editor</li> </ul>"},{"location":"reference/manifest/#network-forensics","title":"Network Forensics","text":"<ul> <li>tshark \u2014 Wireshark CLI</li> <li>fping \u2014 Fast ping</li> <li>speedtest-cli \u2014 Internet speed test</li> <li>nmap-nping \u2014 Advanced ping</li> <li>nmap-scripts \u2014 NSE scripts</li> </ul>"},{"location":"reference/manifest/#system-internals","title":"System Internals","text":"<ul> <li>ltrace \u2014 Library call tracing</li> </ul>"},{"location":"reference/manifest/#routing-firewall","title":"Routing &amp; Firewall","text":"<ul> <li>iptables \u2014 Packet filtering</li> <li>nftables \u2014 Modern firewall</li> <li>conntrack-tools \u2014 Connection tracking</li> <li>bird \u2014 BGP/OSPF routing daemon</li> <li>bridge-utils \u2014 Bridge management</li> </ul>"},{"location":"reference/manifest/#scripting","title":"Scripting","text":"<ul> <li>python3 with pip3 \u2014 Python scripting</li> </ul>"},{"location":"reference/manifest/#tools","title":"Tools","text":"<ul> <li>yq \u2014 YAML parser (v4.x binary, SHA-verified, not Alpine package)</li> </ul>"},{"location":"reference/manifest/#shell_3","title":"Shell","text":"<ul> <li>bash with completion</li> <li>Helpers: <code>json()</code>, <code>yaml()</code>, <code>sniff()</code></li> </ul>"},{"location":"reference/manifest/#guarantees","title":"Guarantees","text":"<p>For each variant:</p> <ul> <li>\u2705 Version pinning: Critical binaries are pinned</li> <li>\u2705 SHA verification: Power variant yq is SHA-verified</li> <li>\u2705 Documentation: All tools listed here are documented and intentional</li> <li>\u2705 No hidden packages: Only what's documented is included</li> <li>\u2705 Root user: All images run as root (debugging tool design)</li> </ul>"},{"location":"reference/manifest/#updates","title":"Updates","text":"<p>This manifest is updated whenever tools are added, removed, or upgraded. See CHANGELOG.md for version history.</p>"},{"location":"reference/multi-arch/","title":"Multi-Architecture Support","text":"<p>All DebugBox images are published as multi-architecture manifests.</p>"},{"location":"reference/multi-arch/#supported-platforms","title":"Supported Platforms","text":"<ul> <li><code>linux/amd64</code> \u2014 x86_64 (Intel, AMD)</li> <li><code>linux/arm64</code> \u2014 ARM 64-bit (aarch64)</li> </ul>"},{"location":"reference/multi-arch/#compatible-hardware","title":"Compatible Hardware","text":""},{"location":"reference/multi-arch/#x86_64-amd64","title":"x86_64 (amd64)","text":"<ul> <li>Standard Linux servers</li> <li>Virtual machines (AWS EC2, Azure VMs, GCP)</li> <li>Desktop/laptop computers</li> <li>Older Apple Macs (Intel)</li> </ul>"},{"location":"reference/multi-arch/#arm64-aarch64","title":"ARM64 (aarch64)","text":"<ul> <li>Apple Silicon: M1, M2, M3, M4 (native support)</li> <li>AWS Graviton: EC2 instances (t4g, m7g, c7g families)</li> <li>Azure Ampere: A1 Compute instances</li> <li>Raspberry Pi: 64-bit models (Pi 3B+, Pi 4, Pi 5)</li> <li>Other ARM64 hardware: Any 64-bit ARM Linux system</li> </ul>"},{"location":"reference/multi-arch/#automatic-selection","title":"Automatic Selection","text":"<p>Docker and containerd automatically detect your architecture and pull the correct image variant. No platform-specific tags needed.</p> <pre><code># Works on both amd64 and arm64 automatically\ndocker pull ghcr.io/ibtisam-iq/debugbox:latest\nkubectl ... --image=ghcr.io/ibtisam-iq/debugbox:latest\n</code></pre>"},{"location":"reference/multi-arch/#explicit-architecture-selection-advanced","title":"Explicit Architecture Selection (Advanced)","text":"<p>If you need to explicitly specify architecture:</p> <pre><code># Force x86_64 (may fail if not running on x86_64)\ndocker pull --platform linux/amd64 ghcr.io/ibtisam-iq/debugbox\n\n# Force ARM64\ndocker pull --platform linux/arm64 ghcr.io/ibtisam-iq/debugbox\n</code></pre>"},{"location":"reference/multi-arch/#size-parity","title":"Size Parity","text":"<p>Both architectures have similar sizes:</p> Variant amd64 arm64 lite 15 MB 15 MB balanced 48 MB 48 MB power 110 MB 103 MB"},{"location":"reference/multi-arch/#verification","title":"Verification","text":"<p>Verify which architecture is running:</p> <pre><code># Inside container\nuname -m\n\n# amd64 \u2192 x86_64\n# arm64 \u2192 aarch64\n</code></pre>"},{"location":"reference/multi-arch/#cicd-builds","title":"CI/CD Builds","text":"<p>All images are built for both architectures in CI/CD:</p> <ul> <li>\u2705 GitHub Actions builds amd64 + arm64</li> <li>\u2705 Trivy security scanning on both</li> <li>\u2705 Both pushed to GHCR and Docker Hub</li> <li>\u2705 Single multi-arch manifest per tag</li> </ul> <p>See <code>release.yml</code> for details.</p>"},{"location":"reference/sizes/","title":"Image Sizes","text":"<p>Actual compressed sizes measured from builds.</p>"},{"location":"reference/sizes/#size-comparison","title":"Size Comparison","text":""},{"location":"reference/sizes/#compressed-sizes-what-you-download","title":"Compressed Sizes (What You Download)","text":"Variant amd64 arm64 lite 15 MB 15 MB balanced 48 MB 48 MB power 110 MB 103 MB"},{"location":"reference/sizes/#uncompressed-sizes-runtime-disk-usage","title":"Uncompressed Sizes (Runtime Disk Usage)","text":"Variant Approximate lite ~50 MB balanced ~150 MB power ~350 MB"},{"location":"reference/sizes/#comparison-to-alternatives","title":"Comparison to Alternatives","text":"<pre><code>netshoot:         208 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 100%\nDebugBox power:   110 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 53%\nDebugBox balanced: 48 MB  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 23%\nDebugBox lite:     15 MB  \u2501\u2501 7%\nbusybox:           1.5 MB  \u2591 &lt;1%\n</code></pre>"},{"location":"reference/sizes/#analysis","title":"Analysis","text":"<ul> <li>DebugBox lite is 93% smaller than netshoot</li> <li>DebugBox balanced is 77% smaller than netshoot</li> <li>DebugBox power is 47% smaller than netshoot</li> </ul> <p>For 90% of debugging tasks, you'll use balanced, which saves 160 MB per pull compared to netshoot.</p>"},{"location":"reference/sizes/#pull-time-impact","title":"Pull Time Impact","text":"<p>Estimated download times (1 Mbps connection):</p> Image Size Time lite 15 MB ~2 seconds balanced 48 MB ~6 seconds power 110 MB ~14 seconds netshoot 208 MB ~27 seconds <p>In production incidents, 15-20 seconds can matter.</p>"},{"location":"reference/sizes/#disk-space-savings","title":"Disk Space Savings","text":"<p>In a cluster pulling all variants multiple times:</p> <pre><code>Single netshoot pull:        208 MB\nThree DebugBox variants:    173 MB (15+48+110)\n\nSavings per pull:           35 MB\nSavings over 100 pulls:    3.5 GB\n</code></pre>"},{"location":"reference/sizes/#measurement-details","title":"Measurement Details","text":"<p>Sizes measured with: <pre><code>docker images --format \"table {{.Repository}}\\t{{.Size}}\"\n</code></pre></p> <p>Variants built for both <code>linux/amd64</code> and <code>linux/arm64</code> with identical tooling and minimal differences.</p>"},{"location":"reference/sizes/#why-the-size-difference","title":"Why the Size Difference?","text":"<ul> <li>lite: Minimal networking tools, BusyBox shell</li> <li>balanced: Adds bash, editors, system tools (most use cases)</li> <li>power: Adds forensics (tshark, ltrace), routing (iptables, nftables), Python</li> <li>netshoot: Single image with everything</li> </ul> <p>DebugBox philosophy: Use what you need, not everything at once.</p>"},{"location":"reference/tags/","title":"Image Tags &amp; Registries","text":"<p>DebugBox publishes images to two registries with identical content.</p>"},{"location":"reference/tags/#registries","title":"Registries","text":""},{"location":"reference/tags/#github-container-registry-primary","title":"GitHub Container Registry (Primary)","text":"<p>Recommended for faster pulls and better GitHub integration.</p> <pre><code>ghcr.io/ibtisam-iq/debugbox-lite\nghcr.io/ibtisam-iq/debugbox-balanced\nghcr.io/ibtisam-iq/debugbox-power\n</code></pre>"},{"location":"reference/tags/#docker-hub-mirror","title":"Docker Hub (Mirror)","text":"<p>Alternative registry with identical content.</p> <pre><code>docker.io/mibtisam/debugbox-lite\ndocker.io/mibtisam/debugbox-balanced\ndocker.io/mibtisam/debugbox-power\n</code></pre>"},{"location":"reference/tags/#tagging-strategy","title":"Tagging Strategy","text":""},{"location":"reference/tags/#version-tags","title":"Version Tags","text":"<p>Each release is tagged with semantic versioning:</p> <pre><code>v1.0.0    # Major.Minor.Patch\nv1.0.1\nv1.1.0\nv2.0.0\n</code></pre>"},{"location":"reference/tags/#latest-tag","title":"Latest Tag","text":"<p>The <code>latest</code> tag always points to the most recent stable release:</p> <pre><code>ghcr.io/ibtisam-iq/debugbox:latest        # Points to v1.2.3\nghcr.io/ibtisam-iq/debugbox-lite:latest   # Points to v1.2.3\nghcr.io/ibtisam-iq/debugbox-power:latest  # Points to v1.2.3\n</code></pre>"},{"location":"reference/tags/#default-variant","title":"Default Variant","text":"<p>The unqualified image name points to balanced:</p> <pre><code>ghcr.io/ibtisam-iq/debugbox           == ghcr.io/ibtisam-iq/debugbox-balanced\nghcr.io/ibtisam-iq/debugbox:v1.0.1   == ghcr.io/ibtisam-iq/debugbox-balanced:v1.0.1\nghcr.io/ibtisam-iq/debugbox:latest   == ghcr.io/ibtisam-iq/debugbox-balanced:latest\n</code></pre>"},{"location":"reference/tags/#pull-examples","title":"Pull Examples","text":""},{"location":"reference/tags/#pinned-version-production","title":"Pinned Version (Production)","text":"<pre><code>docker pull ghcr.io/ibtisam-iq/debugbox:v1.0.0-53-g53d138d\nkubectl ... --image=ghcr.io/ibtisam-iq/debugbox:v1.0.0-53-g53d138d\n</code></pre>"},{"location":"reference/tags/#latest-stable","title":"Latest Stable","text":"<pre><code>docker pull ghcr.io/ibtisam-iq/debugbox:latest\nkubectl ... --image=ghcr.io/ibtisam-iq/debugbox:latest\n</code></pre>"},{"location":"reference/tags/#specific-variant","title":"Specific Variant","text":"<pre><code>docker pull ghcr.io/ibtisam-iq/debugbox-lite:latest\ndocker pull ghcr.io/ibtisam-iq/debugbox-power:v1.0.0-53-g53d138d\n</code></pre>"},{"location":"reference/tags/#from-docker-hub","title":"From Docker Hub","text":"<pre><code>docker pull mibtisam/debugbox:latest\ndocker pull mibtisam/debugbox-power:v1.0.0-53-g53d138d\n</code></pre>"},{"location":"reference/tags/#recommendation","title":"Recommendation","text":"<ul> <li>Development/testing: Use <code>latest</code></li> <li>Production: Use pinned version (e.g., <code>v1.0.0-53-g53d138d</code>)</li> <li>CI/CD pipelines: Use pinned version for reproducibility</li> </ul>"},{"location":"security/policy/","title":"Security Policy","text":""},{"location":"security/policy/#reporting-vulnerabilities","title":"Reporting Vulnerabilities","text":"<p>If you discover a security vulnerability in DebugBox, please report it responsibly:</p> <p>Do not open a public GitHub issue.</p> <p>Instead, email security details to the maintainer. Details will be handled confidentially.</p>"},{"location":"security/policy/#security-scanning","title":"Security Scanning","text":"<p>Every DebugBox release is scanned with Trivy for known vulnerabilities:</p> <ul> <li>\u2705 HIGH and CRITICAL vulnerabilities fail the build</li> <li>\u2705 Both amd64 and arm64 are scanned</li> <li>\u2705 Scan results are logged in CI/CD</li> </ul>"},{"location":"security/policy/#image-security","title":"Image Security","text":""},{"location":"security/policy/#by-design","title":"By Design","text":"<ul> <li>Runs as root: This is a debugging tool, not a production workload</li> <li>No secrets baked in: Only open-source debugging tools included</li> <li>Minimal attack surface: Lite variant excludes compilers/runtimes</li> <li>Multi-arch support: Same security properties on all platforms</li> </ul>"},{"location":"security/policy/#best-practices","title":"Best Practices","text":"<ul> <li>Pin specific versions in production: <code>--image=ghcr.io/ibtisam-iq/debugbox:v1.0.0-53-g53d138d</code></li> <li>Use Lite variant when possible (smallest attack surface)</li> <li>Remove debugging pods after troubleshooting</li> <li>Monitor for security updates</li> </ul>"},{"location":"security/policy/#supported-versions","title":"Supported Versions","text":"<p>Security updates are provided for: - Current release: Full support - Previous release: Critical fixes only - Older releases: Best effort</p>"},{"location":"security/policy/#disclosure-timeline","title":"Disclosure Timeline","text":"<p>For reported vulnerabilities: 1. Initial acknowledgment within 48 hours 2. Assessment and reproduction 3. Fix development 4. Patch release 5. Public disclosure (after fix is released)</p>"},{"location":"security/policy/#responsible-disclosure","title":"Responsible Disclosure","text":"<p>We appreciate security researchers who: - Report vulnerabilities responsibly - Provide detailed information - Allow time for patching before disclosure - Work with us to verify fixes</p> <p>For full security policy, see SECURITY.md in the repository.</p>"},{"location":"security/scanning/","title":"Security Scanning","text":"<p>How DebugBox images are scanned and secured.</p>"},{"location":"security/scanning/#trivy-scanning","title":"Trivy Scanning","text":"<p>Every release is scanned with Trivy for known vulnerabilities.</p>"},{"location":"security/scanning/#scan-process","title":"Scan Process","text":"<pre><code># Automated in GitHub Actions\ntrivy image ghcr.io/ibtisam-iq/debugbox:v1.0.0-53-g53d138d\n</code></pre>"},{"location":"security/scanning/#severity-levels","title":"Severity Levels","text":"Level Action CRITICAL Build fails HIGH Build fails MEDIUM Logged, build continues LOW Logged, build continues"},{"location":"security/scanning/#both-architectures","title":"Both Architectures","text":"<p>Both amd64 and arm64 images are scanned: - \u2705 CI/CD scans before publication - \u2705 Results included in build logs - \u2705 Severity thresholds enforced</p>"},{"location":"security/scanning/#dependency-updates","title":"Dependency Updates","text":"<p>DebugBox dependencies are updated regularly: - Alpine base image: Latest stable - Tool binaries: Pinned and tested - Python packages: Security patches</p>"},{"location":"security/scanning/#known-vulnerabilities","title":"Known Vulnerabilities","text":"<p>If a vulnerability is discovered:</p> <ol> <li>Assessment: Severity and impact evaluated</li> <li>Patching: Fix applied to base/tools</li> <li>Testing: Comprehensive testing before release</li> <li>Release: Patch version bumped and released</li> <li>Notification: Users informed via GitHub releases</li> </ol>"},{"location":"security/scanning/#best-practices","title":"Best Practices","text":""},{"location":"security/scanning/#for-users","title":"For Users","text":"<ul> <li>Pin versions in production: <code>v1.0.0-53-g53d138d</code></li> <li>Review CVE database before deployment</li> <li>Keep images updated to latest</li> <li>Remove debug pods after troubleshooting</li> </ul>"},{"location":"security/scanning/#for-developers","title":"For Developers","text":"<ul> <li>Run <code>make scan</code> locally before PRs</li> <li>Review security advisories</li> <li>Keep Dockerfile dependencies updated</li> <li>Use minimum required tools per variant</li> </ul>"},{"location":"security/scanning/#scan-reports","title":"Scan Reports","text":"<p>View current scan status in CI/CD logs:</p> <ol> <li>Go to GitHub Actions</li> <li>Select the latest release workflow</li> <li>Check \"Scan\" step output</li> </ol>"},{"location":"security/scanning/#vulnerability-reporting","title":"Vulnerability Reporting","text":"<p>Found a vulnerability? Report responsibly via Security Policy.</p> <p>Do not create public GitHub issues for security problems.</p>"},{"location":"usage/docker/","title":"Docker Usage","text":"<p>DebugBox works seamlessly with Docker for local and remote debugging.</p>"},{"location":"usage/docker/#interactive-shell","title":"Interactive Shell","text":"<p>Start a DebugBox container interactively:</p> <pre><code>docker run -it --rm ghcr.io/ibtisam-iq/debugbox\n</code></pre> <p>The <code>--rm</code> flag automatically removes the container when you exit.</p>"},{"location":"usage/docker/#debug-another-containers-network","title":"Debug Another Container's Network","text":"<p>Debug a running container's network namespace:</p> <pre><code>docker run -it --rm \\\n  --net container:my-app-container \\\n  ghcr.io/ibtisam-iq/debugbox\n</code></pre> <p>Inside this container, you can inspect the target container's network stack, ports, and connections without modifying it.</p>"},{"location":"usage/docker/#host-network-debugging","title":"Host Network Debugging","text":"<p>Debug the Docker host's network:</p> <pre><code>docker run -it --rm \\\n  --net host \\\n  ghcr.io/ibtisam-iq/debugbox\n</code></pre> <p>This gives you access to the host's network interfaces, routing tables, and firewall rules.</p>"},{"location":"usage/docker/#bind-mount-for-analysis","title":"Bind Mount for Analysis","text":"<p>Capture traffic and save it for analysis:</p> <pre><code>docker run -it --rm \\\n  -v /tmp:/tmp \\\n  ghcr.io/ibtisam-iq/debugbox\n\n# Inside\ntcpdump -i eth0 -w /tmp/capture.pcap\n# Ctrl+C to stop\n</code></pre> <p>The pcap file is saved to your host's <code>/tmp</code> for later analysis.</p>"},{"location":"usage/docker/#docker-compose-integration","title":"Docker Compose Integration","text":"<p>Use DebugBox in a Docker Compose environment:</p> <pre><code>version: '3.8'\nservices:\n  app:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n\n  debugbox:\n    image: ghcr.io/ibtisam-iq/debugbox\n    command: sleep infinity\n    stdin_open: true\n    tty: true\n    network_mode: service:app  # Share app's network\n</code></pre> <p>Then debug the app:</p> <pre><code>docker-compose exec debugbox bash\n\n# Inside (shares app's network)\ncurl localhost:80\nnetstat -tulpn\n</code></pre>"},{"location":"usage/docker/#privileged-mode-advanced","title":"Privileged Mode (Advanced)","text":"<p>For low-level debugging requiring special capabilities:</p> <pre><code>docker run -it --rm \\\n  --cap-add=NET_ADMIN \\\n  --cap-add=SYS_PTRACE \\\n  ghcr.io/ibtisam-iq/debugbox-power\n\n# Inside\ntcpdump -i eth0\nstrace -p &lt;pid&gt;\n</code></pre>"},{"location":"usage/docker/#variant-selection","title":"Variant Selection","text":"<pre><code># Lightweight (lite)\ndocker run -it --rm ghcr.io/ibtisam-iq/debugbox-lite\n\n# Balanced (default, recommended)\ndocker run -it --rm ghcr.io/ibtisam-iq/debugbox\n\n# Full forensics (power)\ndocker run -it --rm ghcr.io/ibtisam-iq/debugbox-power\n</code></pre>"},{"location":"usage/docker/#common-patterns","title":"Common Patterns","text":""},{"location":"usage/docker/#test-connectivity-to-service","title":"Test Connectivity to Service","text":"<pre><code>docker run -it --rm ghcr.io/ibtisam-iq/debugbox\n\n# Inside\ncurl http://my-service:8080\ndig my-service\n</code></pre>"},{"location":"usage/docker/#monitor-network-in-real-time","title":"Monitor Network in Real-Time","text":"<pre><code>docker run -it --rm ghcr.io/ibtisam-iq/debugbox\n\n# Inside\niftop -i eth0\n</code></pre>"},{"location":"usage/docker/#analyze-host-network","title":"Analyze Host Network","text":"<pre><code>docker run -it --rm --net host ghcr.io/ibtisam-iq/debugbox\n\n# Inside (host context)\nip route\nip neigh\nnetstat -tulpn\n</code></pre>"},{"location":"usage/kubernetes/","title":"Kubernetes Usage","text":"<p>DebugBox is optimized for Kubernetes debugging workflows.</p>"},{"location":"usage/kubernetes/#debug-running-pod-recommended","title":"Debug Running Pod (Recommended)","text":"<p>Attach an ephemeral container to an existing pod:</p> <pre><code>kubectl debug my-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n</code></pre> <p>This shares the network namespace with the target pod, allowing you to inspect its network stack without modifying the pod itself.</p>"},{"location":"usage/kubernetes/#debug-specific-container","title":"Debug Specific Container","text":"<p>If a pod has multiple containers, debug a specific one:</p> <pre><code>kubectl debug my-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --target=my-container\n</code></pre>"},{"location":"usage/kubernetes/#run-temporary-debugging-pod","title":"Run Temporary Debugging Pod","text":"<p>Spin up a temporary pod for debugging:</p> <pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n</code></pre> <p>The <code>--rm</code> flag automatically deletes the pod when you exit.</p>"},{"location":"usage/kubernetes/#host-network-debugging","title":"Host Network Debugging","text":"<p>Access the node's network namespace:</p> <pre><code>kubectl run debugbox-host --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --overrides='{\"spec\":{\"hostNetwork\":true}}' \\\n  --restart=Never\n</code></pre> <p>Inside this pod, you can inspect host-level networking, routing tables, and firewall rules.</p>"},{"location":"usage/kubernetes/#node-debugging","title":"Node Debugging","text":"<p>Debug a specific node:</p> <pre><code>kubectl run debugbox-node-&lt;node-name&gt; --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --overrides='{\"spec\":{\"hostNetwork\":true,\"nodeName\":\"&lt;node-name&gt;\"}}' \\\n  --restart=Never\n</code></pre> <p>Replace <code>&lt;node-name&gt;</code> with your target node name.</p>"},{"location":"usage/kubernetes/#sidecar-debugging","title":"Sidecar Debugging","text":"<p>Deploy DebugBox as a sidecar container:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-debugbox\nspec:\n  containers:\n  - name: app\n    image: nginx:alpine\n    ports:\n    - containerPort: 80\n\n  - name: debugbox\n    image: ghcr.io/ibtisam-iq/debugbox\n    command: [\"sleep\", \"infinity\"]\n</code></pre> <p>Both containers share the pod's network namespace:</p> <pre><code>kubectl exec -it app-with-debugbox -c debugbox -- bash\n\n# Inside debugbox (same network as app)\ncurl localhost:80\nnetstat -tulpn\ntcpdump -i eth0\n</code></pre>"},{"location":"usage/kubernetes/#variant-selection","title":"Variant Selection","text":"<p>Choose the right variant for your workflow:</p> <pre><code># Fast network check (lite)\nkubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite\n\n# General debugging (balanced, recommended)\nkubectl debug my-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox\n\n# Deep forensics (power)\nkubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power\n</code></pre>"},{"location":"usage/kubernetes/#tag-selection","title":"Tag Selection","text":"<p>Use semantic version tags for reproducibility:</p> <pre><code># Pinned version (recommended for production)\n--image=ghcr.io/ibtisam-iq/debugbox:v1.0.0-53-g53d138d\n\n# Latest stable\n--image=ghcr.io/ibtisam-iq/debugbox:latest\n</code></pre>"},{"location":"usage/kubernetes/#common-patterns","title":"Common Patterns","text":""},{"location":"usage/kubernetes/#test-service-connectivity","title":"Test Service Connectivity","text":"<pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n\n# Inside\ncurl -v http://my-service.default.svc.cluster.local:8080\ndig my-service.default.svc.cluster.local\n</code></pre>"},{"location":"usage/kubernetes/#capture-network-traffic","title":"Capture Network Traffic","text":"<pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power \\\n  --restart=Never\n\n# Inside\ntcpdump -i eth0 -w /tmp/capture.pcap\n# Or for analysis\ntshark -i eth0\n</code></pre>"},{"location":"usage/kubernetes/#inspect-pods-system-calls","title":"Inspect Pod's System Calls","text":"<pre><code>kubectl debug my-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n\n# Inside (attach to running process)\nstrace -p &lt;pid&gt;\n</code></pre>"},{"location":"usage/workflows/","title":"Common Workflows","text":"<p>Real-world debugging scenarios with DebugBox.</p>"},{"location":"usage/workflows/#test-service-connectivity","title":"Test Service Connectivity","text":"<p>Scenario: Pod can't reach a service.</p> <pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n\n# Inside debugbox\ncurl -v http://my-service.default.svc.cluster.local:8080\ndig my-service.default.svc.cluster.local\ntraceroute my-service.default.svc.cluster.local\n</code></pre>"},{"location":"usage/workflows/#debug-application-pod","title":"Debug Application Pod","text":"<p>Scenario: Application pod has issues; you need to inspect its network.</p> <pre><code># Attach ephemeral container\nkubectl debug my-app-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox\n\n# Inside debugbox (same network as app)\ncurl -v http://localhost:8080/health\nnetstat -tulpn | grep 8080\nlsof -i :8080\n</code></pre>"},{"location":"usage/workflows/#capture-network-traffic","title":"Capture Network Traffic","text":"<p>Scenario: Intermittent connection issues; you need packet capture.</p> <pre><code># Use Power variant for tshark\nkubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power \\\n  --restart=Never\n\n# Inside debugbox\ntcpdump -i eth0 -w /tmp/capture.pcap port 443 -c 100\n\n# Or live analysis\ntshark -i eth0 -f \"port 443\"\n</code></pre>"},{"location":"usage/workflows/#inspect-node-network","title":"Inspect Node Network","text":"<p>Scenario: Node-level networking issue.</p> <pre><code>kubectl run debugbox-host --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --overrides='{\"spec\":{\"hostNetwork\":true}}' \\\n  --restart=Never\n\n# Inside debugbox (host network)\nip route\nip neigh\niptables -L -n\nnetstat -tulpn\n</code></pre>"},{"location":"usage/workflows/#test-dns-resolution","title":"Test DNS Resolution","text":"<p>Scenario: DNS not resolving correctly.</p> <pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite \\\n  --restart=Never\n\n# Inside debugbox\ndig kubernetes.default.svc.cluster.local\ndig my-service.default.svc.cluster.local\nnslookup my-service\n</code></pre>"},{"location":"usage/workflows/#monitor-network-traffic","title":"Monitor Network Traffic","text":"<p>Scenario: High bandwidth usage; debug which pods/services consume it.</p> <pre><code>kubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n\n# Inside debugbox\niftop -i eth0  # Watch bandwidth per source/dest\n</code></pre>"},{"location":"usage/workflows/#trace-system-calls","title":"Trace System Calls","text":"<p>Scenario: Application behaving strangely; trace system calls.</p> <pre><code>kubectl debug my-app-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n\n# Inside debugbox\n# Find the app's process ID first\nps aux | grep myapp  # Assume PID 1234\n\n# Trace system calls\nstrace -p 1234 -e trace=network,open,read,write\n</code></pre>"},{"location":"usage/workflows/#parse-and-inspect-yaml","title":"Parse and Inspect YAML","text":"<p>Scenario: Need to inspect ConfigMap or Secret.</p> <pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite \\\n  --restart=Never\n\n# Inside debugbox\nkubectl get cm my-config -o yaml | yq '.data'\nkubectl get secret my-secret -o yaml | yq '.data | keys'\n</code></pre>"},{"location":"usage/workflows/#debug-multi-container-pod","title":"Debug Multi-Container Pod","text":"<p>Scenario: Pod has multiple containers; debug specific container.</p> <pre><code>kubectl debug my-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --target=my-container\n\n# Inside debugbox (attached to my-container's network)\ncurl -v http://localhost:8080\n</code></pre>"},{"location":"usage/workflows/#persistent-sidecar-debugging","title":"Persistent Sidecar Debugging","text":"<p>Scenario: Need debugging container running alongside app continuously.</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-with-debugbox\nspec:\n  containers:\n  - name: app\n    image: nginx:alpine\n    ports:\n    - containerPort: 80\n\n  - name: debugbox\n    image: ghcr.io/ibtisam-iq/debugbox\n    command: [\"sleep\", \"infinity\"]\n</code></pre> <pre><code>kubectl apply -f debugbox-sidecar.yaml\nkubectl exec -it app-with-debugbox -c debugbox -- bash\n\n# Inside debugbox (shares app's network)\nwatch -n 1 'curl -s http://localhost/metrics'\n</code></pre>"},{"location":"usage/workflows/#test-network-performance","title":"Test Network Performance","text":"<p>Scenario: Performance degradation; test link performance.</p> <pre><code># Server pod\nkubectl run iperf-server --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --command -- iperf3 -s\n\n# Client pod (different terminal)\nkubectl run iperf-client --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --command -- iperf3 -c iperf-server -t 10\n</code></pre>"},{"location":"usage/workflows/#check-open-ports-and-connections","title":"Check Open Ports and Connections","text":"<p>Scenario: Service not accessible; check listening ports.</p> <pre><code>kubectl debug my-app-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n\n# Inside debugbox\nnetstat -tulpn\n# or\nss -tulpn\nlsof -i -P -n\n</code></pre>"},{"location":"variants/balanced/","title":"Balanced Variant","text":"<p>48 MB variant. This is the recommended variant for most use cases.</p>"},{"location":"variants/balanced/#use-cases","title":"Use Cases","text":"<ul> <li>General Kubernetes troubleshooting</li> <li>Debugging live application pods</li> <li>Daily debugging workflows</li> <li>Default choice when unsure</li> </ul>"},{"location":"variants/balanced/#whats-included","title":"What's Included","text":"<p>Includes all lite tools, plus:</p>"},{"location":"variants/balanced/#shell-ux","title":"Shell &amp; UX","text":"<ul> <li><code>bash</code> \u2014 Full shell with completion</li> <li><code>less</code> \u2014 Pager</li> </ul>"},{"location":"variants/balanced/#editors","title":"Editors","text":"<ul> <li><code>vim</code> \u2014 Text editor</li> </ul>"},{"location":"variants/balanced/#network-tools","title":"Network Tools","text":"<ul> <li><code>tcpdump</code> \u2014 Packet capture</li> <li><code>socat</code> \u2014 Socket relay</li> <li><code>nmap</code> \u2014 Network scanning</li> <li><code>mtr</code> \u2014 Traceroute with live stats</li> <li><code>iperf3</code> \u2014 Network performance testing</li> <li><code>ethtool</code> \u2014 Network interface config</li> <li><code>iftop</code> \u2014 Bandwidth monitoring</li> </ul>"},{"location":"variants/balanced/#system-tools","title":"System Tools","text":"<ul> <li><code>htop</code> \u2014 Process monitoring</li> <li><code>strace</code> \u2014 System call tracing</li> <li><code>lsof</code> \u2014 Open file inspector</li> <li><code>procps</code> \u2014 Process utilities</li> <li><code>psmisc</code> \u2014 Process tools</li> </ul>"},{"location":"variants/balanced/#kubernetes-tools","title":"Kubernetes Tools","text":"<ul> <li><code>kubectx</code> \u2014 Switch contexts easily</li> <li><code>kubens</code> \u2014 Switch namespaces easily</li> </ul>"},{"location":"variants/balanced/#other","title":"Other","text":"<ul> <li><code>git</code> \u2014 Version control</li> <li><code>file</code> \u2014 File type detection</li> <li><code>tar</code>, <code>gzip</code> \u2014 Archive tools</li> </ul>"},{"location":"variants/balanced/#example-usage","title":"Example Usage","text":"<pre><code># Debug running pod\nkubectl debug my-pod -it --image=ghcr.io/ibtisam-iq/debugbox\n\n# Temporary debugging pod\nkubectl run debugbox --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox \\\n  --restart=Never\n</code></pre> <p>Inside the container:</p> <pre><code># Switch to different namespace\nkubens kube-system\n\n# Check pod logs and trace\nstrace -p &lt;pid&gt;\n\n# Inspect network connections\nnetstat -tulpn\n\n# Capture traffic\ntcpdump -i eth0 -c 10\n</code></pre>"},{"location":"variants/balanced/#size","title":"Size","text":"<ul> <li>Compressed: 48 MB</li> <li>Uncompressed: ~150 MB</li> </ul>"},{"location":"variants/balanced/#when-to-upgrade","title":"When to Upgrade","text":"<p>Move to power if you need: - Packet analysis (tshark) - Deep system tracing (ltrace) - Routing/firewall (iptables, nftables) - Advanced scripting (Python/pip3)</p>"},{"location":"variants/lite/","title":"Lite Variant","text":"<p>15 MB variant optimized for minimal size and fast pulls.</p>"},{"location":"variants/lite/#use-cases","title":"Use Cases","text":"<ul> <li>Quick network diagnostics</li> <li>DNS resolution checks</li> <li>Fast pod startup</li> <li>Resource-constrained environments</li> <li>Init container debugging</li> </ul>"},{"location":"variants/lite/#whats-included","title":"What's Included","text":""},{"location":"variants/lite/#network-tools","title":"Network Tools","text":"<ul> <li><code>curl</code> \u2014 HTTP requests</li> <li><code>netcat-openbsd</code> \u2014 TCP/UDP debugging</li> <li><code>iproute2</code> \u2014 IP routing and network configuration</li> <li><code>iputils</code> \u2014 ping, traceroute</li> <li><code>bind-tools</code> \u2014 dig, nslookup</li> </ul>"},{"location":"variants/lite/#data-tools","title":"Data Tools","text":"<ul> <li><code>jq</code> \u2014 JSON parsing</li> <li><code>yq</code> \u2014 YAML parsing (Alpine package, v3.x)</li> </ul>"},{"location":"variants/lite/#shell","title":"Shell","text":"<ul> <li><code>ash</code> (BusyBox) \u2014 Lightweight shell</li> </ul>"},{"location":"variants/lite/#example-usage","title":"Example Usage","text":"<pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite \\\n  --restart=Never\n</code></pre> <p>Inside the container:</p> <pre><code># Quick DNS check\ndig kubernetes.default.svc.cluster.local\n\n# Connectivity test\ncurl -I https://kubernetes.io\n\n# Route inspection\nip route\n</code></pre>"},{"location":"variants/lite/#size","title":"Size","text":"<ul> <li>Compressed: 15 MB</li> <li>Uncompressed: ~50 MB</li> </ul>"},{"location":"variants/lite/#when-to-upgrade","title":"When to Upgrade","text":"<p>Move to balanced if you need: - bash shell - Packet captures (tcpdump) - Process inspection (strace, lsof) - Text editors (vim) - Kubernetes helpers (kubectx)</p>"},{"location":"variants/overview/","title":"Variants Overview","text":"<p>DebugBox provides three purpose-built variants instead of one monolithic image.</p>"},{"location":"variants/overview/#at-a-glance","title":"At a Glance","text":"Variant Size Use Case Shell lite 15 MB Quick network checks ash (BusyBox) balanced 48 MB General troubleshooting bash power 110 MB Deep forensics bash"},{"location":"variants/overview/#choosing-a-variant","title":"Choosing a Variant","text":""},{"location":"variants/overview/#when-to-use-lite","title":"When to Use lite","text":"<ul> <li>Fast pod startup is critical</li> <li>Quick DNS or network checks</li> <li>Resource-constrained environments</li> <li>Init container debugging</li> </ul> <p>Start with: <pre><code>kubectl run debugbox-lite --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-lite\n</code></pre></p>"},{"location":"variants/overview/#when-to-use-balanced-recommended","title":"When to Use balanced (Recommended)","text":"<ul> <li>General Kubernetes troubleshooting</li> <li>Debugging live pods</li> <li>Daily debugging workflows</li> <li>Default choice when unsure</li> </ul> <p>Start with: <pre><code>kubectl debug my-pod -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox\n</code></pre></p>"},{"location":"variants/overview/#when-to-use-power","title":"When to Use power","text":"<ul> <li>Packet captures and analysis</li> <li>Deep network forensics</li> <li>Routing and firewall debugging</li> <li>SRE investigations</li> </ul> <p>Start with: <pre><code>kubectl run debugbox-power --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power\n</code></pre></p>"},{"location":"variants/overview/#detailed-comparison","title":"Detailed Comparison","text":""},{"location":"variants/overview/#network-tools","title":"Network Tools","text":"Tool lite balanced power curl \u2713 \u2713 \u2713 dig \u2713 \u2713 \u2713 netcat \u2713 \u2713 \u2713 ping \u2713 \u2713 \u2713 tcpdump \u2717 \u2713 \u2713 nmap \u2717 \u2713 \u2713 mtr \u2717 \u2713 \u2713 tshark \u2717 \u2717 \u2713"},{"location":"variants/overview/#system-tools","title":"System Tools","text":"Tool lite balanced power bash \u2717 \u2713 \u2713 vim \u2717 \u2713 \u2713 strace \u2717 \u2713 \u2713 htop \u2717 \u2713 \u2713 lsof \u2717 \u2713 \u2713 ltrace \u2717 \u2717 \u2713"},{"location":"variants/overview/#kubernetes-tools","title":"Kubernetes Tools","text":"Tool lite balanced power kubectl \u2713 \u2713 \u2713 kubectx \u2717 \u2713 \u2713 kubens \u2717 \u2713 \u2713 yq \u2713 \u2713 \u2713 jq \u2713 \u2713 \u2713"},{"location":"variants/overview/#authoritative-tooling-list","title":"Authoritative Tooling List","text":"<p>For the complete, authoritative list of tools in each variant, see <code>docs/manifest.yaml</code> in the GitHub repository.</p>"},{"location":"variants/overview/#summary","title":"Summary","text":"<ul> <li>lite: Lean and fast. Pull time is measured in seconds.</li> <li>balanced: Sweet spot. Has everything for most troubleshooting.</li> <li>power: Complete forensics toolkit for deep investigations.</li> </ul> <p>Start with balanced. Downgrade to lite if startup time is critical. Upgrade to power for detailed analysis.</p>"},{"location":"variants/power/","title":"Power Variant","text":"<p>110 MB variant with full SRE-grade tooling.</p>"},{"location":"variants/power/#use-cases","title":"Use Cases","text":"<ul> <li>Deep network forensics</li> <li>Packet capture and analysis</li> <li>Routing and firewall debugging</li> <li>Complex system troubleshooting</li> <li>Performance analysis</li> </ul>"},{"location":"variants/power/#whats-included","title":"What's Included","text":"<p>Includes all balanced tools, plus:</p>"},{"location":"variants/power/#editors","title":"Editors","text":"<ul> <li><code>nano</code> \u2014 Alternative editor</li> </ul>"},{"location":"variants/power/#network-forensics","title":"Network Forensics","text":"<ul> <li><code>tshark</code> \u2014 Wireshark CLI for packet analysis</li> <li><code>fping</code> \u2014 Fast ping tool</li> <li><code>speedtest-cli</code> \u2014 Internet speed testing</li> <li><code>nmap-nping</code> \u2014 Advanced ping</li> <li><code>nmap-scripts</code> \u2014 NSE scripts</li> </ul>"},{"location":"variants/power/#system-internals","title":"System Internals","text":"<ul> <li><code>ltrace</code> \u2014 Library call tracing</li> </ul>"},{"location":"variants/power/#routing-firewall","title":"Routing &amp; Firewall","text":"<ul> <li><code>iptables</code> \u2014 Packet filtering</li> <li><code>nftables</code> \u2014 Modern firewall</li> <li><code>conntrack-tools</code> \u2014 Connection tracking</li> <li><code>bird</code> \u2014 BGP/OSPF daemon</li> <li><code>bridge-utils</code> \u2014 Bridge tools</li> </ul>"},{"location":"variants/power/#scripting","title":"Scripting","text":"<ul> <li><code>python3</code> with <code>pip3</code> \u2014 Python scripting</li> </ul>"},{"location":"variants/power/#tools","title":"Tools","text":"<ul> <li><code>yq</code> \u2014 YAML parser (v4.x pinned binary with SHA verification, not Alpine package)</li> </ul>"},{"location":"variants/power/#example-usage","title":"Example Usage","text":"<pre><code>kubectl run debugbox-power --rm -it \\\n  --image=ghcr.io/ibtisam-iq/debugbox-power \\\n  --restart=Never\n</code></pre> <p>Inside the container:</p> <pre><code># Interactive packet analysis\ntshark -i eth0 -f \"port 443\"\n\n# Detailed packet capture\ntcpdump -i eth0 -w /tmp/capture.pcap port 443\n\n# Check routing table\nip route\nbird -P -d\n\n# Advanced firewall inspection\niptables -L -v -n\nnftables list ruleset\n\n# Connection state inspection\nconntrack -L\n</code></pre>"},{"location":"variants/power/#size","title":"Size","text":"<ul> <li>Compressed: 110 MB</li> <li>Uncompressed: ~350 MB</li> </ul>"},{"location":"variants/power/#when-to-use-power","title":"When to Use Power","text":"<p>This variant is for when you need to: - Capture and analyze packets in detail - Debug complex routing scenarios - Trace system calls at the library level - Run custom scripts for advanced analysis</p>"}]}